(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{362:function(e,s,a){Promise.resolve().then(a.bind(a,6462))},6462:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return D}});var t=a(7573),i=a(7653),n=a(4730),c=a(9493);let l="".concat("http://localhost:8000","/api/v1");async function r(e){return(await fetch("".concat(l,"/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function d(e){return(await fetch("".concat(l,"/sessions/").concat(e))).json()}async function o(e){return(await fetch("".concat(l,"/sessions/").concat(e,"/messages"))).json()}async function m(e,s){return(await fetch("".concat(l,"/sessions/").concat(e,"/approvals/").concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve"})})).json()}async function h(){return(await fetch("".concat(l,"/connectors"))).json()}async function u(e){return(await fetch("".concat(l,"/semantic/domains/").concat(e,"/install"),{method:"POST"})).json()}async function v(){return(await fetch("".concat(l,"/agents"))).json()}async function p(){return(await fetch("".concat(l,"/agents/templates"))).json()}async function x(){return(await fetch("".concat(l,"/governance/audit"))).json()}let j=[{id:"revops",label:"RevOps",icon:"\uD83D\uDCB0"},{id:"finance",label:"Finance",icon:"\uD83D\uDCCA"},{id:"supply_chain",label:"Supply Chain",icon:"\uD83D\uDE9A"},{id:"healthcare",label:"Healthcare",icon:"\uD83C\uDFE5"},{id:"ecommerce",label:"E-Commerce",icon:"\uD83D\uDED2"},{id:"hr",label:"HR",icon:"\uD83D\uDC65"},{id:"marketing",label:"Marketing",icon:"\uD83D\uDCE3"},{id:"risk",label:"Risk",icon:"\uD83D\uDEE1️"}],y={revops:["Why did Q1 pipeline drop?","Which deals are at risk this week?","What's our forecast accuracy vs plan?"],finance:["Explain our budget variance this quarter","What's our cash runway?","Show P&L vs budget"],supply_chain:["Which SKUs are at stockout risk?","Which suppliers have highest delay risk?","Forecast demand for top 10 SKUs"],healthcare:["Which patients are at readmission risk?","What's driving claim denial rate?","Show length of stay by DRG"],ecommerce:["What's driving churn in VIP cohort?","Which channels have best LTV?","Show cart abandonment by device"],hr:["Who is at flight risk this quarter?","What's our attrition rate by department?","Show pay equity analysis"],marketing:["Which channels have best ROAS?","What's our MQL to SQL conversion?","Show attribution by touchpoint"],risk:["Which transactions are highest fraud risk?","Show anomalies in last 24 hours","What's our false positive rate?"]},g=[{key:"frame",label:"Problem Framing",icon:"\uD83C\uDFAF"},{key:"connect",label:"Data Connector",icon:"\uD83D\uDD0C"},{key:"map",label:"Semantic Mapping",icon:"\uD83D\uDDFA️"},{key:"quality",label:"Data Quality",icon:"✅"},{key:"eda",label:"EDA & Hypotheses",icon:"\uD83D\uDD2C"},{key:"model",label:"Modeling & ML",icon:"\uD83E\uDD16"},{key:"narrate",label:"Insight Narrative",icon:"\uD83D\uDCDD"},{key:"act",label:"Action Plan",icon:"⚡"},{key:"govern",label:"Governance Check",icon:"\uD83D\uDEE1️"}];function D(){var e,s,a,p,D;let[k,w]=(0,i.useState)("revops"),[_,C]=(0,i.useState)("semi_auto"),[A,E]=(0,i.useState)([]),[W,z]=(0,i.useState)(null),[R,q]=(0,i.useState)("viz"),[F,T]=(0,i.useState)("recent"),[O,P]=(0,i.useState)(""),[I,L]=(0,i.useState)(!1),[B,U]=(0,i.useState)(null),[V,M]=(0,i.useState)([]),[G,H]=(0,i.useState)([]),[J,K]=(0,i.useState)([]),[Q,Z]=(0,i.useState)([]),Y=(0,i.useRef)(null);(0,i.useEffect)(()=>{u(k).catch(()=>{}),h().then(M).catch(()=>{}),v().then(H).catch(()=>{})},[k]),(0,i.useEffect)(()=>{var e;null===(e=Y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[A]),(0,i.useEffect)(()=>{if(null==W?void 0:W.id)return function(e,s){let a=new EventSource("".concat(l,"/sessions/").concat(e,"/stream"));return a.onmessage=e=>{try{s(JSON.parse(e.data))}catch(a){s({raw:e.data})}},a.onerror=()=>a.close(),()=>a.close()}(W.id,e=>{if("step_complete"===e.type&&z(s=>s?{...s,current_step_index:e.step_index}:s),"message"===e.type){let s={id:crypto.randomUUID(),role:"assistant",content:e.content,created_at:new Date().toISOString()};E(e=>[...e,s])}"status"===e.type&&(z(s=>s?{...s,status:e.status,final_output:e.final_output}:s),"done"===e.status&&L(!1))})},[null==W?void 0:W.id]);let X=(0,i.useCallback)(async()=>{if(!O.trim()||I)return;let e=O.trim();P(""),L(!0),U(null);let s={id:crypto.randomUUID(),role:"user",content:e,created_at:new Date().toISOString()};E(e=>[...e,s]);try{let s=await r({question:e,domain:k,autonomy_level:_,connector_ids:[]});if(s.id){z(s);let e={id:crypto.randomUUID(),role:"assistant",content:"\uD83E\uDD16 Analyzing your question...",created_at:new Date().toISOString()};E(s=>[...s,e]);let a=setInterval(async()=>{let e=await d(s.id);if(z(e),["done","failed"].includes(e.status)){clearInterval(a),L(!1);let e=await o(s.id);E(s=>[...s.filter(e=>"user"===e.role),...e.filter(e=>"assistant"===e.role)]),x().then(K).catch(()=>{})}},3e3)}}catch(e){U(e.message||"Request failed"),L(!1)}},[O,I,k,_]);return(0,t.jsxs)("div",{className:"app-shell",children:[(0,t.jsxs)("aside",{className:"sidebar",children:[(0,t.jsxs)("div",{className:"sidebar-logo",children:[(0,t.jsx)("div",{className:"logo-mark",children:"V"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"logo-text",children:"VDS Platform"}),(0,t.jsx)("div",{className:"logo-sub",children:"Virtual Data Scientist"})]})]}),(0,t.jsxs)("div",{className:"sidebar-section",children:[(0,t.jsx)("div",{className:"sidebar-section-label",children:"Navigation"}),(0,t.jsxs)("div",{className:"nav-item ".concat("recent"===F?"active":""),onClick:()=>T("recent"),children:[(0,t.jsx)("span",{className:"nav-item-icon",children:"\uD83D\uDCAC"})," Sessions"]}),(0,t.jsxs)("div",{className:"nav-item ".concat("connectors"===F?"active":""),onClick:()=>T("connectors"),children:[(0,t.jsx)("span",{className:"nav-item-icon",children:"\uD83D\uDD0C"})," Connectors",(0,t.jsx)("span",{className:"badge badge-accent",style:{marginLeft:"auto"},children:V.length})]}),(0,t.jsxs)("div",{className:"nav-item",children:[(0,t.jsx)("span",{className:"nav-item-icon",children:"\uD83D\uDDFA️"})," Semantic Layer"]}),(0,t.jsxs)("div",{className:"nav-item ".concat("models"===F?"active":""),onClick:()=>T("models"),children:[(0,t.jsx)("span",{className:"nav-item-icon",children:"\uD83E\uDD16"})," Model Registry"]}),(0,t.jsxs)("div",{className:"nav-item",onClick:()=>{q("agents"),T("recent")},children:[(0,t.jsx)("span",{className:"nav-item-icon",children:"⚡"})," Agent Builder",(0,t.jsx)("span",{className:"badge badge-success",style:{marginLeft:"auto"},children:G.length})]}),(0,t.jsxs)("div",{className:"nav-item",children:[(0,t.jsx)("span",{className:"nav-item-icon",children:"\uD83D\uDEE1️"})," Governance"]})]}),(0,t.jsx)("div",{style:{flex:1,overflow:"auto"},children:(0,t.jsxs)("div",{className:"sidebar-section",children:[(0,t.jsx)("div",{className:"sidebar-section-label",children:"Recent Sessions"}),W&&(0,t.jsxs)("div",{className:"nav-item active",style:{fontSize:"12px",display:"block",padding:"8px 10px"},children:[(0,t.jsxs)("div",{style:{fontWeight:500,marginBottom:2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[(null===(s=A[0])||void 0===s?void 0:null===(e=s.content)||void 0===e?void 0:e.slice(0,40))||"New session","..."]}),(0,t.jsxs)("div",{style:{fontSize:"10px",color:"var(--text-muted)"},children:[W.status," \xb7 ",k]})]}),!W&&(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-muted)",padding:"8px 10px"},children:"No sessions yet"})]})}),(0,t.jsx)("div",{style:{padding:"12px 16px",borderTop:"1px solid var(--border)",fontSize:"11px",color:"var(--text-muted)"},children:"VDS v0.1.0 \xb7 demo@vds.ai"})]}),(0,t.jsxs)("main",{className:"main-area",children:[(0,t.jsxs)("div",{className:"topbar",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"topbar-title",children:[null===(a=j.find(e=>e.id===k))||void 0===a?void 0:a.icon," ",null===(p=j.find(e=>e.id===k))||void 0===p?void 0:p.label," Workspace"]}),(0,t.jsx)("div",{className:"topbar-sub",children:W?"Session: ".concat(W.id.slice(0,8),"... \xb7 ").concat(W.status):"Ready to analyze"})]}),(0,t.jsx)("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:j.map(e=>(0,t.jsxs)("button",{className:"domain-chip ".concat(k===e.id?"active":""),onClick:()=>w(e.id),children:[e.icon," ",e.label]},e.id))}),(0,t.jsx)("div",{className:"autonomy-dial",children:["assist","semi_auto","autonomous"].map(e=>(0,t.jsx)("div",{className:"dial-option ".concat(_===e?"active":""),onClick:()=>C(e),children:"assist"===e?"\uD83D\uDC64 Assist":"semi_auto"===e?"⚡ Semi-Auto":"\uD83E\uDD16 Auto"},e))})]}),(0,t.jsxs)("div",{className:"workspace",children:[(0,t.jsxs)("div",{className:"left-col",children:[W&&(0,t.jsxs)("div",{className:"plan-pane",children:[(0,t.jsxs)("div",{className:"plan-title",children:["\uD83D\uDDD3️ Analysis Pipeline \xb7 Step ",W.current_step_index+1,"/",g.length]}),g.map((e,s)=>{let a=s<W.current_step_index?"done":s===W.current_step_index?"active":"pending",i="failed"===W.status&&s===W.current_step_index?"failed":a;return(0,t.jsxs)("div",{className:"step-item",children:[(0,t.jsx)("div",{className:"step-icon ".concat(i),children:"done"===i?"✓":"active"===i?"●":"failed"===i?"✗":e.icon}),(0,t.jsx)("div",{className:"step-label ".concat(i),children:e.label}),"active"===a&&"assist"===_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"checkpoint-btn approve",onClick:()=>W&&m(W.id,e.key),children:"Approve"}),(0,t.jsx)("button",{className:"checkpoint-btn skip",children:"Skip"})]}),"done"===i&&(0,t.jsx)("span",{className:"badge badge-success",children:"✓"}),"active"===i&&I&&(0,t.jsx)("div",{className:"spinner",style:{width:14,height:14}})]},e.key)})]}),(0,t.jsxs)("div",{className:"chat-pane",children:[(0,t.jsxs)("div",{className:"chat-messages",children:[0===A.length&&(0,t.jsxs)("div",{className:"empty-state",style:{marginTop:40},children:[(0,t.jsx)("div",{className:"empty-state-icon",children:"\uD83E\uDD16"}),(0,t.jsx)("div",{className:"empty-state-title",children:"Ask your data scientist"}),(0,t.jsx)("div",{className:"empty-state-desc",children:"Ask any business question — in plain English. VDS will plan, analyze, model, and deliver actionable insights."}),(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",justifyContent:"center",maxWidth:400,marginTop:8},children:(y[k]||[]).map(e=>(0,t.jsx)("button",{className:"quick-prompt",onClick:()=>{P(e)},children:e},e))})]}),A.map(e=>(0,t.jsxs)("div",{className:"msg ".concat(e.role),children:[(0,t.jsx)("div",{className:"msg-avatar",children:"user"===e.role?"\uD83D\uDC64":"\uD83E\uDD16"}),(0,t.jsx)("div",{className:"msg-bubble",children:"assistant"===e.role?(0,t.jsx)(n.UG,{remarkPlugins:[c.Z],children:e.content}):e.content})]},e.id)),B&&(0,t.jsxs)("div",{style:{background:"var(--danger-dim)",border:"1px solid var(--danger)",borderRadius:"var(--radius-sm)",padding:"10px 14px",fontSize:13,color:"var(--danger)"},children:["⚠️ ",B]}),(0,t.jsx)("div",{ref:Y})]}),0===A.length&&(0,t.jsx)("div",{className:"quick-prompts",children:(y[k]||[]).slice(0,3).map(e=>(0,t.jsx)("button",{className:"quick-prompt",onClick:()=>P(e),children:e},e))}),(0,t.jsxs)("div",{className:"chat-input-area",children:[(0,t.jsxs)("div",{className:"chat-input-wrapper",children:[(0,t.jsx)("textarea",{className:"chat-input",rows:1,value:O,onChange:e=>P(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),X())},placeholder:"Ask a ".concat((null===(D=j.find(e=>e.id===k))||void 0===D?void 0:D.label)||""," question..."),disabled:I}),(0,t.jsx)("button",{className:"send-btn",onClick:X,disabled:I||!O.trim(),children:I?(0,t.jsx)("div",{className:"spinner",style:{width:14,height:14,borderWidth:2}}):"↑"})]}),(0,t.jsxs)("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:6,textAlign:"center"},children:["⏎ Send \xb7 Shift+⏎ New line \xb7 Autonomy: ",_.replace("_","-")]})]})]})]}),(0,t.jsxs)("div",{className:"right-col",children:[(0,t.jsx)("div",{className:"tab-bar",children:[{id:"viz",label:"\uD83D\uDCCA Viz & Data"},{id:"evidence",label:"\uD83D\uDD0D Evidence"},{id:"action",label:"⚡ Action"},{id:"agents",label:"\uD83E\uDD16 Agents"}].map(e=>(0,t.jsx)("button",{className:"tab-btn ".concat(R===e.id?"active":""),onClick:()=>q(e.id),children:e.label},e.id))}),(0,t.jsxs)("div",{className:"tab-content",children:["viz"===R&&(0,t.jsx)(N,{session:W}),"evidence"===R&&(0,t.jsx)(f,{session:W,auditLog:J}),"action"===R&&(0,t.jsx)(b,{session:W,domain:k}),"agents"===R&&(0,t.jsx)(S,{workflows:G,setWorkflows:H,domain:k})]})]})]})]})]})}function N(e){var s,a;let{session:i}=e;if(!(null==i?void 0:i.final_output))return(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state-icon",children:"\uD83D\uDCCA"}),(0,t.jsx)("div",{className:"empty-state-title",children:"Charts & Metrics"}),(0,t.jsx)("div",{className:"empty-state-desc",children:"Ask a question and VDS will generate relevant visualizations here."})]});let l=i.final_output,r=(null==l?void 0:l.narrate)||{},d=(null==l?void 0:l.model)||{};return null==l||l.eda,(0,t.jsxs)("div",{children:[r.findings&&r.findings.length>0&&(0,t.jsx)("div",{className:"metric-grid",children:r.findings.slice(0,4).map((e,s)=>(0,t.jsxs)("div",{className:"metric-card",children:[(0,t.jsx)("div",{className:"metric-label",children:e.label||"Finding ".concat(s+1)}),(0,t.jsx)("div",{className:"metric-value",children:e.value||"—"}),e.delta&&(0,t.jsx)("div",{className:"metric-delta ".concat((e.delta||"").startsWith("+")?"up":"down"),children:e.delta})]},s))}),r.executive_summary&&(0,t.jsxs)("div",{className:"chart-card",children:[(0,t.jsx)("div",{className:"chart-title",children:"\uD83D\uDCCB Executive Summary"}),(0,t.jsx)("div",{style:{fontSize:13,lineHeight:1.7},children:(0,t.jsx)(n.UG,{remarkPlugins:[c.Z],children:"string"==typeof r.executive_summary?r.executive_summary:(null===(a=r.executive_summary)||void 0===a?void 0:null===(s=a.join)||void 0===s?void 0:s.call(a,"\n"))||String(r.executive_summary)})})]}),d.top_predictions&&d.top_predictions.length>0&&(0,t.jsxs)("div",{className:"chart-card",children:[(0,t.jsx)("div",{className:"chart-title",children:"\uD83C\uDFAF Top Predictions"}),(0,t.jsxs)("table",{className:"data-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Record"}),(0,t.jsx)("th",{children:"Score"}),(0,t.jsx)("th",{children:"Risk"}),(0,t.jsx)("th",{children:"Top Driver"})]})}),(0,t.jsx)("tbody",{children:d.top_predictions.slice(0,8).map((e,s)=>{let a=parseFloat(e.score||e.probability||e.risk_score||"0"),i=a>.7?"high":a>.4?"medium":"low";return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.name||e.id||"Record ".concat(s+1)}),(0,t.jsx)("td",{children:(0,t.jsxs)("strong",{children:[(100*a).toFixed(0),"%"]})}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"score-badge ".concat(i),children:i.toUpperCase()})}),(0,t.jsx)("td",{style:{color:"var(--text-muted)",fontSize:11},children:e.top_driver||e.reason||"—"})]},s)})})]})]}),d.shap_summary&&(0,t.jsxs)("div",{className:"chart-card",children:[(0,t.jsx)("div",{className:"chart-title",children:"\uD83D\uDD2C Feature Importance (SHAP)"}),Object.entries(d.shap_summary||{}).slice(0,6).map((e,s)=>{let[a,i]=e;return(0,t.jsxs)("div",{style:{marginBottom:10},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginBottom:4},children:[(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:a}),(0,t.jsx)("span",{style:{color:"var(--text-primary)",fontWeight:600},children:"number"==typeof i?i.toFixed(3):i})]}),(0,t.jsx)("div",{style:{height:6,background:"var(--bg-active)",borderRadius:3},children:(0,t.jsx)("div",{style:{height:"100%",background:"linear-gradient(90deg, var(--accent), var(--accent-glow))",borderRadius:3,width:"".concat(Math.min(100,(s+1)*15),"%"),transition:"width 0.5s ease"}})})]},s)})]}),r.recommendations&&r.recommendations.length>0&&(0,t.jsxs)("div",{className:"chart-card",children:[(0,t.jsx)("div",{className:"chart-title",children:"\uD83D\uDCA1 Top Recommendations"}),r.recommendations.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:12,alignItems:"flex-start"},children:[(0,t.jsx)("div",{style:{width:24,height:24,borderRadius:"50%",background:"var(--accent-dim)",color:"var(--accent-glow)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,flexShrink:0},children:s+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:500,color:"var(--text-primary)",marginBottom:2},children:e.title||e.action||e}),(0,t.jsx)("div",{style:{fontSize:12,color:"var(--text-muted)"},children:e.expected_impact||e.impact||""})]})]},s))]})]})}function f(e){var s,a;let{session:i,auditLog:n}=e;if(!i)return(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state-icon",children:"\uD83D\uDD0D"}),(0,t.jsx)("div",{className:"empty-state-title",children:"Full Evidence Trail"}),(0,t.jsx)("div",{className:"empty-state-desc",children:"Every query, metric definition, and model version will be shown here — fully linked."})]});let c=i.final_output||{},l=c.narrate||{},r=c.govern||{};return(0,t.jsxs)("div",{children:[n.slice(0,5).map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"evidence-item",children:[(0,t.jsxs)("div",{className:"evidence-header",children:[(0,t.jsxs)("span",{className:"evidence-id",children:["audit:",(null===(a=e.id)||void 0===a?void 0:a.slice(0,8))||s]}),(0,t.jsx)("span",{className:"evidence-type",children:e.action||"event"})]}),(0,t.jsxs)("div",{className:"evidence-content",children:["Policy: ",(0,t.jsx)("span",{style:{color:"PASS"===e.policy_decision?"var(--success)":"var(--danger)"},children:e.policy_decision||"—"}),"\xb7 Actor: ",e.actor||"system"]})]},s)}),r.status&&(0,t.jsxs)("div",{className:"evidence-item",children:[(0,t.jsxs)("div",{className:"evidence-header",children:[(0,t.jsx)("span",{className:"evidence-id",children:"governance.check"}),(0,t.jsx)("span",{className:"badge ".concat("PASS"===r.status?"badge-success":"badge-danger"),children:r.status})]}),(0,t.jsx)("div",{className:"evidence-content",children:(null===(s=r.issues)||void 0===s?void 0:s.length)>0?r.issues.map((e,s)=>(0,t.jsxs)("div",{children:["⚠️ ","string"==typeof e?e:e.message]},s)):"✅ All governance checks passed"}),(null===(a=r.required_approvals)||void 0===a?void 0:a.length)>0&&(0,t.jsxs)("div",{className:"evidence-query",children:["Approvals required: ",r.required_approvals.join(", ")]})]}),l.appendix&&(0,t.jsxs)("div",{className:"evidence-item",children:[(0,t.jsxs)("div",{className:"evidence-header",children:[(0,t.jsx)("span",{className:"evidence-id",children:"narrate.appendix"}),(0,t.jsx)("span",{className:"evidence-type",children:"metadata"})]}),(0,t.jsx)("div",{className:"evidence-content",children:(0,t.jsx)("div",{className:"evidence-query",children:JSON.stringify(l.appendix,null,2).slice(0,500)})})]}),!n.length&&!r.status&&(0,t.jsxs)("div",{className:"empty-state",style:{paddingTop:20},children:[(0,t.jsx)("div",{className:"empty-state-icon",style:{fontSize:24},children:"⏳"}),(0,t.jsx)("div",{className:"empty-state-desc",children:"Evidence trail will populate as the agent pipeline runs."})]})]})}function b(e){var s;let{session:a,domain:n}=e,[c,l]=(0,i.useState)(new Set);if(!(null==a?void 0:a.final_output))return(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state-icon",children:"⚡"}),(0,t.jsx)("div",{className:"empty-state-title",children:"Operational Actions"}),(0,t.jsx)("div",{className:"empty-state-desc",children:"VDS will generate deployable workflows and write-back actions here based on analysis findings."})]});let r=(a.final_output.act||{}).actions||[],d=(null===(s=a.final_output.narrate)||void 0===s?void 0:s.recommendations)||[],o=r.length>0?r:d.map(e=>({title:e.title||e.action||e,description:e.expected_impact||"",type:"notification",target:"Slack"}));return(0,t.jsxs)("div",{children:[o.map((e,s)=>(0,t.jsxs)("div",{className:"action-card",children:[(0,t.jsxs)("div",{className:"action-header",children:[(0,t.jsx)("span",{className:"action-icon",children:"record_update"===e.type?"\uD83D\uDCDD":"task"===e.type?"✅":"\uD83D\uDCE2"}),(0,t.jsx)("span",{className:"action-title",children:e.title||e.name||"Action ".concat(s+1)}),c.has(s)&&(0,t.jsx)("span",{className:"badge badge-success",style:{marginLeft:"auto"},children:"Deployed"})]}),(0,t.jsx)("div",{className:"action-desc",children:e.description||e.details||""}),e.target&&(0,t.jsxs)("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:10},children:["\uD83C\uDFAF Target: ",e.target," \xb7 Guardrail: ",e.guardrail||"min_confidence ≥ 0.70"]}),(0,t.jsxs)("div",{className:"action-footer",children:[(0,t.jsx)("button",{className:"btn btn-secondary",children:"Dry Run"}),c.has(s)?(0,t.jsx)("button",{className:"btn btn-success",disabled:!0,children:"✓ Live"}):(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>l(e=>new Set([...Array.from(e),s])),children:"Deploy ⚡"})]})]},s)),0===o.length&&(0,t.jsx)("div",{className:"empty-state",style:{paddingTop:20},children:(0,t.jsx)("div",{className:"empty-state-desc",children:"No actions generated yet. Complete analysis first."})})]})}function S(e){let{workflows:s,setWorkflows:a,domain:n}=e,[c,l]=(0,i.useState)([]),[r,d]=(0,i.useState)("workflows");(0,i.useEffect)(()=>{p().then(l).catch(()=>{})},[]);let o=c.filter(e=>e.domain===n||"generic"===e.domain);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",gap:6,marginBottom:12},children:[(0,t.jsxs)("button",{className:"btn ".concat("workflows"===r?"btn-primary":"btn-secondary"),onClick:()=>d("workflows"),children:["My Agents (",s.length,")"]}),(0,t.jsxs)("button",{className:"btn ".concat("templates"===r?"btn-primary":"btn-secondary"),onClick:()=>d("templates"),children:["Templates (",o.length,")"]})]}),"templates"===r&&(0,t.jsx)("div",{children:o.map(e=>(0,t.jsxs)("div",{className:"action-card",style:{marginBottom:8},children:[(0,t.jsxs)("div",{className:"action-header",children:[(0,t.jsx)("span",{className:"action-icon",children:"\uD83E\uDD16"}),(0,t.jsx)("span",{className:"action-title",children:e.name}),(0,t.jsx)("span",{className:"badge badge-accent",style:{marginLeft:"auto"},children:e.trigger})]}),(0,t.jsxs)("div",{className:"action-desc",children:[e.domain," \xb7 Runs ",e.trigger]}),(0,t.jsx)("div",{className:"action-footer",children:(0,t.jsx)("button",{className:"btn btn-primary",style:{fontSize:11},children:"Install Template"})})]},e.id))}),"workflows"===r&&(0,t.jsxs)("div",{children:[0===s.length&&(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state-icon",children:"⚡"}),(0,t.jsx)("div",{className:"empty-state-title",children:"No Agents Yet"}),(0,t.jsx)("div",{className:"empty-state-desc",children:"Deploy an insight as an agent, or install a template to get started."})]}),s.map(e=>(0,t.jsxs)("div",{className:"action-card",children:[(0,t.jsxs)("div",{className:"action-header",children:[(0,t.jsx)("span",{className:"action-title",children:e.name}),(0,t.jsx)("span",{className:"badge badge-".concat("active"===e.status?"success":"warning"),style:{marginLeft:"auto"},children:e.status})]}),(0,t.jsxs)("div",{className:"action-desc",children:["Autonomy: ",e.autonomy_level," \xb7 Last run: ",e.last_run_at||"Never"]})]},e.id))]})]})}}},function(e){e.O(0,[421,293,286,744],function(){return e(e.s=362)}),_N_E=e.O()}]);